if (self.CavalryLogger) { CavalryLogger.start_js(["VJXNW"]); }

__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g=1500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$StaleVideoMonitor4=null;d.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))();d.$StaleVideoMonitor2=c.currentTime;d.$StaleVideoMonitor3=b("performanceNow")();d.$StaleVideoMonitor5=c;d.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(c,"playing",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"play",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"timeupdate",function(){return d.$StaleVideoMonitor6()}));return d}var d=c.prototype;d.$StaleVideoMonitor7=function(){__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),g=c.end(e);if(f>a)break;if(f<=a&&g>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",b("performanceNow")()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};d.$StaleVideoMonitor9=function(a){var c=this;this.$StaleVideoMonitor10();this.$StaleVideoMonitor4=b("setTimeout")(function(){return c.$StaleVideoMonitor7()},a)};d.$StaleVideoMonitor10=function(){this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};d.$StaleVideoMonitor8=function(){this.$StaleVideoMonitor6()};d.$StaleVideoMonitor6=function(){this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor9(g))};d.$StaleVideoMonitor11=function(){this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};d.notifyBuffering=function(){this.$StaleVideoMonitor10()};d.notifyBuffered=function(){this.$StaleVideoMonitor9(g)};d.destroy=function(){this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("VideoScrollTracker",["Scroll"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2=-1,this.$3=!1,this.$4=a}var c=a.prototype;c.$5=function(){return this.$4?b("Scroll").getTop(this.$4):null};c.onScroll=function(){if(this.$3){var a=this.$5();a!==null&&a!==void 0&&(this.$1=a<this.$2?"up":"down",this.$6(a))}};c.$6=function(a){this.$2=a};c.start=function(){this.$3=!0;var a=this.$5();a!==null&&a!==void 0&&this.$6(a)};c.stop=function(){this.$3=!1};c.getLastScrollDirection=function(){return this.$1};c.destroy=function(){this.stop(),this.$4=null};return a}();e.exports=a}),null);
__d("getBufferedAheadOf",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}e.exports=a}),null);
__d("VideoWatchTimeTracker",["getBufferedAheadOf"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}var c=a.prototype;c.$15=function(){var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};c.$16=function(a){if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};c.$17=function(){var a=b("getBufferedAheadOf")(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};c.seekStart=function(){this.$17(),this.$15()};c.seekEnd=function(){this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)};c.pause=function(){this.$14=this.STATE_PAUSE,this.$17(),this.$15()};c.playing=function(){this.$17(),this.$15(),this.$14=this.STATE_PLAYING};c.bufferingStart=function(a){this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)),this.$14=this.STATE_BUFFERING_START};c.bufferingEnd=function(a){this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};c.update=function(a){this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};c.getWatchTimeSinceLastReport=function(){var a=this.$4;this.$4=0;return a};c.getTotalWatchTime=function(){return this.$3};c.getStallTimeSinceLastReport=function(){var a=this.$8;this.$8=0;return a};c.getTotalStallTime=function(){return this.$7};c.getStallCountSinceLastReport=function(){var a=this.$6;this.$6=0;return a};c.getTotalStallCount=function(){return this.$5};c.getBufferedTimeSinceLastReport=function(){var a=this.$10;this.$10=0;return a};c.getTotalBufferedTime=function(){return this.$9};c.getGuid=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availability_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",RETRY_ON_ERROR:"retry_on_error",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error"})}),null);
__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover"})}),null);
__d("VideoWithFallbackMode",["Event","SubscriptionsHandler","TimeSlice","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerReason","Visibility"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=this;this.$1=!1;this.$2=!1;this.$5=function(){d.$1=!0,b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&d.$2&&(d.$6.play(b("VideoPlayerReason").FALLBACK_MODE),d.$2=!1)};this.$8=function(){d.$1=!1};this.$3=new(b("SubscriptionsHandler"))();c||(c=a,a=null);this.$4=c;a&&this.enable(a)}var c=a.prototype;c.enable=function(a){__p&&__p();var c=this;this.$3.engage();this.$6=a;if(this.$6.isImplementationUnavailable()||this.$6.getOption("SphericalVideoPlayer","isUnavailable")){this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_UNAVAILABLE);return}this.$3.addSubscriptions(b("Event").listen(window,"blur",this.$8),b("Event").listen(window,"focus",this.$5),b("Visibility").addListener(b("Visibility").HIDDEN,this.$8),b("Visibility").addListener(b("Visibility").VISIBLE,this.$5),a.addListener("error",this.$9.bind(this)));if(this.$4.fallbackTimeoutMs){a=this.$4.fallbackTimeoutMs;this.$10=setTimeout(b("TimeSlice").guard(function(){c.$6.isState("loading")&&(c.$6.pause(b("VideoPlayerReason").FALLBACK_MODE),c.$7(b("VideoPlayerLoggerFallbackReasons").TIMEOUT),c.$2=!0)},"VideoWithFallbackMode fallbackTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),a)}};c.disable=function(){this.$3.release(),clearTimeout(this.$10),this.$10=null,this.$6=null};c.$9=function(a){if(this.$6.isState("fallback"))return;this.$6.isState("playing")&&this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE);this.$6.abortLoading();a?this.$7(a):(this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_ERROR),this.$2=!0)};c.$7=function(a){if(b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&!this.$1)return;this.$6.setState("fallback");a===b("VideoPlayerLoggerFallbackReasons").TIMEOUT&&this.$6.emit("VideoWithStallRecoveryOverlay/timeout");this.$6.logEvent(b("VideoPlayerLoggerEvent").ENTERED_FALLBACK,{debug_reason:a})};return a}();e.exports=a}),null);
__d("VideoData",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a||{aspect_ratio:0,original_height:0,original_width:0,video_id:""}}var b=a.prototype;b.hasHD=function(){return!!this.$1.hd_src};b.getEncodingTag=function(){return this.$1.encoding_tag};b.getContentCategory=function(){return this.$1.content_category};b.getVideoID=function(){return this.$1.video_id};b.getVideoURL=function(){return this.$1.video_url};b.getAspectRatio=function(){return this.$1.aspect_ratio};b.getRotation=function(){return this.$1.rotation||0};b.hasSubtitles=function(){return!!this.$1.subtitles_src};b.hasDashManifest=function(){return!!this.$1.dash_manifest};b.getDashManifest=function(){return this.$1.dash_manifest};b.hasHighlightsManifest=function(){return!!this.$1.highlights_manifest};b.getHighlightsManifest=function(){return this.$1.highlights_manifest};b.getDashPrefetchedRepresentationIDs=function(){return this.$1.dash_prefetched_representation_ids};b.getSubtitlesSrc=function(){this.$1.subtitles_src||g(0,1109);return this.$1.subtitles_src};b.getPlayableSrcSD=function(){return this.$1.sd_src_no_ratelimit?this.$1.sd_src_no_ratelimit:this.getPlayableSrcRateLimitedSD()};b.getPlayableSrcHD=function(){return this.$1.hd_src_no_ratelimit?this.$1.hd_src_no_ratelimit:this.getPlayableSrcRateLimitedHD()};b.getPlayableSrcRateLimitedSD=function(){return this.$1.sd_src};b.getPlayableSrcRateLimitedHD=function(){return this.$1.hd_src};b.getLiveManifestUrl=function(){this.isLiveStream()||g(0,1110);return this.getPlayableSrcRateLimitedSD()};b.hasRateLimit=function(){return!!this.$1.sd_src_no_ratelimit};b.getStreamType=function(){this.$1.stream_type||g(0,1111);return this.$1.stream_type};b.isBroadcast=function(){return!!this.$1.is_broadcast};b.isServableViaFbms=function(){return!!this.$1.is_servable_via_fbms};b.isLiveStream=function(){return!!this.$1.is_live_stream};b.isLowLatency=function(){return!!this.$1.is_low_latency};b.getDesiredLatencyMs=function(){return this.$1.desired_latency_ms};b.isPredictiveDash=function(){return!!this.$1.is_predictive_dash};b.isEnabledForCVCv3=function(){return!!this.$1.is_enabled_for_cvc_v3};b.isFacecastAudio=function(){return!!this.$1.is_facecast_audio};b.liveRoutingToken=function(){return this.$1.live_routing_token};b.getHDTag=function(){return this.$1.hd_tag};b.getSDTag=function(){return this.$1.sd_tag};b.getProjection=function(){return this.$1.projection};b.getPlayerVersionOverwrite=function(){return this.$1.player_version_overwrite};b.getFalloverData=function(){var b=this.$1.fallover_data;return b?b.map(function(b){return new a(b)}):[]};b.getSphericalConfig=function(){return this.$1.spherical_config};b.isSpherical=function(){return!!this.$1.is_spherical};b.getOriginalHeight=function(){return this.$1.original_height};b.getOriginalWidth=function(){return this.$1.original_width};b.getOverrideConfig=function(){return this.$1.override_config};b.getRawData=function(){return this.$1};b.getPrefetchCache=function(){return this.$1.prefetch_cache};b.getWidevineCert=function(){return this.$1.widevine_cert};return a}();e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();var i=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var j=this.getVideoElement();if(h){var k=j.pause;j.pause=function(){i._recentPausedTime=j.currentTime;return k.apply(j)}}d&&(this._overwriteVideoCurrentTimeProperty(j),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(j);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=j.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;j.readyState>=j.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(j,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(j,"ended",this.onEnded.bind(this)),b("EventListener").listen(j,"pause",this.onPause.bind(this)),b("EventListener").listen(j,"playing",this.onPlaying.bind(this)),b("EventListener").listen(j,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(j,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(j,"play",this.onPlay.bind(this)),b("EventListener").listen(j,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(j,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(j,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,b){__p&&__p();this._loggedEvents[a]=!0;b=b?b:{};b.video_id=this.getVideoID();b.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(b,"video_time_position")||(b.video_time_position=this._getVideoCurrentTime());b.time_ms||(b.time_ms=Date.now());b.time=Math.round(b.time_ms/1e3);if(this.getAdClientToken){var c=this.getAdClientToken();c&&(b.ad_client_token=c)}this.getPlayerFormat&&(b.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(b.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(b.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,b)},_logReadyToPlay:function(){this._logOnce(b("VideoPlayerLoggerEvent").READY_TO_PLAY)},__setPendingPlayRequest:function(a){this._pendingPlayRequest=a},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===g&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$MediaBufferingDetector1=c;e.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))();e.$MediaBufferingDetector1.paused||e.$MediaBufferingDetector8();e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"playing",function(){return e.$MediaBufferingDetector9()}),b("Event").listen(e.$MediaBufferingDetector1,"pause",function(){return e.$MediaBufferingDetector10()}),b("Event").listen(e.$MediaBufferingDetector1,"ended",function(){return e.$MediaBufferingDetector11()}),b("Event").listen(e.$MediaBufferingDetector1,"timeupdate",function(){return e.$MediaBufferingDetector12()}));e.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"waiting",function(){return e.$MediaBufferingDetector14()}));return e}var d=c.prototype;d.$MediaBufferingDetector15=function(){var a=b("performanceNow")(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};d.$MediaBufferingDetector18=function(){this.$MediaBufferingDetector5=b("performanceNow")(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};d.$MediaBufferingDetector8=function(){var a=this;if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return a.$MediaBufferingDetector15()},500)};d.$MediaBufferingDetector19=function(){b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};d.$MediaBufferingDetector16=function(){if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};d.$MediaBufferingDetector17=function(){if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};d.$MediaBufferingDetector9=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};d.$MediaBufferingDetector10=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector11=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector12=function(){this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};d.$MediaBufferingDetector14=function(){this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};d.$MediaBufferingDetector13=function(a,c){return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.destroy=function(){b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoPlayerVersions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HTML5:"html5",PLEASANTVILLE:"pleasantville",REACT:"react",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",SILVERCITY:"silvercity",OZ:"oz",REACT_OZ:"react_oz",OLD_API_EXO:"old_api_exo",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_PSR:"old_api_psr",HEROPLAYER:"heroplayer",HEROPLAYER2:"heroplayer2",HEROPLAYER_CORE_PLUGINS:"heroplayer_only_core_plugins",HEROPLAYER_NON_CORE_PLUGINS:"heroplayer_other_plugins",HEROPLAYER2_CORE_PLUGINS:"heroplayer2_only_core_plugins",HEROPLAYER2_NON_CORE_PLUGINS:"heroplayer2_other_plugins",GROOTPLAYER:"grootplayer",GROOT:"groot",FNF:"fnf",LEGACY:"legacy",REFACTORED:"refactored",MBASIC:"mbasic",MTOUCH_SHAKA_LIVE:"mtouch_shaka_live",MTOUCH_SPHERICAL:"mtouch_360",MTOUCH_OZ:"mtouch_oz",CASTING_DEBUG:"casting_debug",CHROMECAST:"chromecast",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",HERO_SURFACE:"hero_surface",HERO_TEXTURE:"hero_texture",UNKNOWN:"unknown"})}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=this,d=i(a,function(){if(!d)return;d.remove();d=null;for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=this,d=h(a,function(){d.remove();for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","Promise","regeneratorRuntime","AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","FBLogger","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerVersions","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","clearTimeout","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getHTMLMediaElementMutedState","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("VideoPlaybackQuality").getDroppedFrames,i=b("VideoPlaybackQuality").getTotalFrames,j=null;b("requireWeak")("TVViewerConfigsManager",function(a){return j=a});function k(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function l(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}var m=-1,n=.05,o=476,p=476;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerHTML5Api39=c;e.$VideoPlayerHTML5Api45=d?d.shakaConfig:null;e.$VideoPlayerHTML5Api16=e.$VideoPlayerHTML5Api39.id;e.preventSeekLoggingInMixin=!0;e.$VideoPlayerHTML5Api64("allow_seek_logging_in_mixin",!1)&&(e.preventSeekLoggingInMixin=!1);c=e.$VideoPlayerHTML5Api65();e.$VideoPlayerHTML5Api57=c.width;e.$VideoPlayerHTML5Api15=c.height;d?e.$VideoPlayerHTML5Api9=d:e.$VideoPlayerHTML5Api9=JSON.parse(e.$VideoPlayerHTML5Api39.getAttribute("data-config"));e.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(e.$VideoPlayerHTML5Api39,e.$VideoPlayerHTML5Api45);e.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return e.$VideoPlayerHTML5Api66()});e.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return e.$VideoPlayerHTML5Api67()});e.$VideoPlayerHTML5Api26=m;e.$VideoPlayerHTML5Api28=b("getHTMLMediaElementMutedState")(e.$VideoPlayerHTML5Api39);e.$VideoPlayerHTML5Api55=e.$VideoPlayerHTML5Api39.volume;e.$VideoPlayerHTML5Api27=!1;e.$VideoPlayerHTML5Api24=null;e.$VideoPlayerHTML5Api32=!1;e.$VideoPlayerHTML5Api3=!1;e.$VideoPlayerHTML5Api34=e.$VideoPlayerHTML5Api39.getAttribute("preload")=="auto";e.$VideoPlayerHTML5Api35=null;e.$VideoPlayerHTML5Api41=new(b("StaleVideoMonitor"))(e.$VideoPlayerHTML5Api39);e.$VideoPlayerHTML5Api41.addListener("stale",function(a,b){return e.$VideoPlayerHTML5Api68(a,b)});e.$VideoPlayerHTML5Api13=!1;e.$VideoPlayerHTML5Api44=!1;e.$VideoPlayerHTML5Api9.lazyPreload&&(e.$VideoPlayerHTML5Api9.onafterloadRegister?b("Run").onAfterLoad(function(){return e.$VideoPlayerHTML5Api39.setAttribute("preload",e.$VideoPlayerHTML5Api9.lazyPreload)}):e.$VideoPlayerHTML5Api39.setAttribute("preload",e.$VideoPlayerHTML5Api9.lazyPreload));e.$VideoPlayerHTML5Api11=e.$VideoPlayerHTML5Api9.disableNativeControls;e.$VideoPlayerHTML5Api48=e.$VideoPlayerHTML5Api9.subtitlesActive;e.$VideoPlayerHTML5Api69();e.preventPauseLoggingInMixin=!1;e.$VideoPlayerHTML5Api46=new(b("SubscriptionsHandler"))();e.$VideoPlayerHTML5Api70();e.$VideoPlayerHTML5Api21=e.$VideoPlayerHTML5Api9.useRateLimited;e.$VideoPlayerHTML5Api71(!1);c=b("VideoQualityClasses").indexOf("hd");e.$VideoPlayerHTML5Api20=e.$VideoPlayerHTML5Api9.minQuality!==null&&b("VideoQualityClasses").indexOf(e.$VideoPlayerHTML5Api9.minQuality)>=c;e.$VideoPlayerHTML5Api29=e.$VideoPlayerHTML5Api9.minQuality;e.$VideoPlayerHTML5Api30=e.$VideoPlayerHTML5Api9.maxQuality;e.$VideoPlayerHTML5Api2=e.$VideoPlayerHTML5Api9.accessToken;e.$VideoPlayerHTML5Api42=e.$VideoPlayerHTML5Api9.startTimestamp;e.$VideoPlayerHTML5Api36=n;e.$VideoPlayerHTML5Api4=e.$VideoPlayerHTML5Api9.autoFullscreenHD;e.$VideoPlayerHTML5Api33=null;e.$VideoPlayerHTML5Api58=!1;e.$VideoPlayerHTML5Api59=!1;e.$VideoPlayerHTML5Api60=e.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest;e.$VideoPlayerHTML5Api54=e.$VideoPlayerHTML5Api45?e.$VideoPlayerHTML5Api45.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(e.$VideoPlayerHTML5Api9.playerInstanceKey,e.$VideoPlayerHTML5Api39):null:null;return e}var d=c.prototype;d.setup=function(){this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api72.bind(this),this.$VideoPlayerHTML5Api9.useEventTime,this.$VideoPlayerHTML5Api64("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api64("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api64("fire_seek_events",!1),this.$VideoPlayerHTML5Api64("fix_pause_current_time_in_mixin",!1)),this.$VideoPlayerHTML5Api73()};d.getAdClientToken=function(){this.$VideoPlayerHTML5Api9.ad_client_token};d.$VideoPlayerHTML5Api68=function(a,c){this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:a,stale_video_current_time_delta:c}),this.$VideoPlayerHTML5Api9.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs==="number"&&this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs/1e3),b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};d.$VideoPlayerHTML5Api66=function(){this.emit("buffering"),this.$VideoPlayerHTML5Api41.notifyBuffering(),this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.bufferingStart(Date.now())};d.$VideoPlayerHTML5Api67=function(){this.emit("buffered"),this.$VideoPlayerHTML5Api41.notifyBuffered(),this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.bufferingEnd(Date.now())};d.$VideoPlayerHTML5Api74=function(a){this.emit("bufferingProgress",a)};d.$VideoPlayerHTML5Api75=function(a){this.emit("replicaSwitch",a)};d.$VideoPlayerHTML5Api76=function(){this.emit("networkInterrupted")};d.$VideoPlayerHTML5Api77=function(){this.emit("networkResumed")};d.$VideoPlayerHTML5Api78=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api58=!0};d.$VideoPlayerHTML5Api79=function(){this.emit("seekRangeChanged")};d.$VideoPlayerHTML5Api80=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Api58=!1};d.$VideoPlayerHTML5Api64=function(a,c){return this.$VideoPlayerHTML5Api45?this.$VideoPlayerHTML5Api45.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.getVideoPlayerShakaConfig=function(){return this.$VideoPlayerHTML5Api45||b("VideoPlayerShakaGlobalConfig")};d.isStreamInterrupted=function(){return this.$VideoPlayerHTML5Api58};d.getVideoID=function(){return this.$VideoPlayerHTML5Api10?this.$VideoPlayerHTML5Api10.getVideoID():this.$VideoPlayerHTML5Api9.video_id};d.getDroppedFrames=function(){return h(this.$VideoPlayerHTML5Api39)};d.getTotalFrames=function(){return i(this.$VideoPlayerHTML5Api39)};d.isDrm=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.isDrm():!1};d.getDebug=function(){return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api40}};d.getDOMElement=function(){return this.$VideoPlayerHTML5Api39};d.getVideoElement=function(){return this.$VideoPlayerHTML5Api39};d.getSubscriptions=function(){return this.$VideoPlayerHTML5Api46};c.onImplementationReady=function(a,b){b()};d.destroy=function(a){if(this.$VideoPlayerHTML5Api13)return;a=a||{};this.$VideoPlayerHTML5Api13=!0;this.$VideoPlayerHTML5Api81();b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api82(),this.$VideoPlayerHTML5Api83&&b("DOM").remove(this.$VideoPlayerHTML5Api83));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api46.release()};d.getVideoInfo=function(){if(!this.$VideoPlayerHTML5Api10)return null;var a=this.getAvailableVideoQualities();return{isHD:a&&this.getSelectedVideoQuality()==a[a.length-1],streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:a&&a.length>1,areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api19,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api40?"DASH manifest":this.$VideoPlayerHTML5Api84(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api21,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getManifestUrl():this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null,isEnabledForCVCv3:this.$VideoPlayerHTML5Api10.isEnabledForCVCv3()}};c.isImplementationUnavailable=function(a){return b("isHTML5VideoImplementationUnavailable")(a)};d.pause=function(a){this.$VideoPlayerHTML5Api24=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api60||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api18?this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api59=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api85();this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.pause():this.$VideoPlayerHTML5Api39.pause()};d.$VideoPlayerHTML5Api71=function(a){this.$VideoPlayerHTML5Api18=a};d.preload=function(){this.$VideoPlayerHTML5Api34||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api86(),this.$VideoPlayerHTML5Api34=!0,this.$VideoPlayerHTML5Api39.setAttribute("preload","auto"))};d.isPreloading=function(){return this.$VideoPlayerHTML5Api34};d.play=function(a){__p&&__p();var c=this;this.$VideoPlayerHTML5Api53||(this.$VideoPlayerHTML5Api53=a);this.$VideoPlayerHTML5Api25=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"play"),b("setTimeout")(function(){return b("dispatchEvent")(c.$VideoPlayerHTML5Api39,"playing")},0)):this.$VideoPlayerHTML5Api87();return}this.$VideoPlayerHTML5Api32=!0;this.$VideoPlayerHTML5Api71(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"play");this.$VideoPlayerHTML5Api86();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api88()};d.$VideoPlayerHTML5Api85=function(){this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"pause"),this.$VideoPlayerHTML5Api71(!1),this.$VideoPlayerHTML5Api89()};d.$VideoPlayerHTML5Api89=function(){this.$VideoPlayerHTML5Api32=!1,this.$VideoPlayerHTML5Api3=!1};d.$VideoPlayerHTML5Api90=function(){this.$VideoPlayerHTML5Api39.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api34=!0,this.$VideoPlayerHTML5Api39.load(),this.$VideoPlayerHTML5Api39.muted=this.$VideoPlayerHTML5Api28};d.seek=function(a){var b=this.$VideoPlayerHTML5Api64("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api40&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api39.currentTime-a>=c&&this.$VideoPlayerHTML5Api40.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api64("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api39.readyState!==0&&(this.$VideoPlayerHTML5Api39.currentTime=a);else try{this.$VideoPlayerHTML5Api39.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.seekEnd()};d.removeRotation=function(){b("CSS").removeClass(this.$VideoPlayerHTML5Api39,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api39,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api39,"_56jt"),this.$VideoPlayerHTML5Api39.style.marginLeft="",this.$VideoPlayerHTML5Api39.style.marginTop="",this.$VideoPlayerHTML5Api39.style.width="",this.$VideoPlayerHTML5Api39.style.height=""};d.applyRotation=function(a){__p&&__p();if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api39,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api39,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api39,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api15;var c=this.$VideoPlayerHTML5Api57,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api39.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api39.style.marginTop=d+"px";this.$VideoPlayerHTML5Api39.style.height=c+"px";this.$VideoPlayerHTML5Api39.style.width=a+"px"};d.$VideoPlayerHTML5Api91=function(a){this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api45&&a.isLowLatency()?this.$VideoPlayerHTML5Api45.setContext("latency_level","low"):this.$VideoPlayerHTML5Api45&&a.isPredictiveDash()&&this.$VideoPlayerHTML5Api45.setContext("latency_level","predictive"),this.$VideoPlayerHTML5Api45&&a.isServableViaFbms()&&this.$VideoPlayerHTML5Api45.setContext("servable_via_fmbs",a.isServableViaFbms())};d.switchVideo=function(a){__p&&__p();var c=this;if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=a)return;a=new(b("VideoData"))(this.$VideoPlayerHTML5Api9.videoData[a]);this.$VideoPlayerHTML5Api10=a;a.getOverrideConfig()&&this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setOverrideConfig(a.getOverrideConfig());this.$VideoPlayerHTML5Api91(a);if((a.hasDashManifest()||a.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported(a)&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var d,e;this.$VideoPlayerHTML5Api17=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&a.hasHighlightsManifest();d=a.getDashManifest();a.isLiveStream()&&(e=a.getLiveManifestUrl());var f=a.getDashPrefetchedRepresentationIDs(),g=this.$VideoPlayerHTML5Api9.seekHandler,h=g;g&&(h=function(a){!c.getCurrentTimePosition()?c.$VideoPlayerHTML5Api39.currentTime=a:c.$VideoPlayerHTML5Api18?c.seek(a):g(a)});f=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api39,f,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api9.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api29,maxPlayQuality:this.$VideoPlayerHTML5Api30,width:this.$VideoPlayerHTML5Api57,height:this.$VideoPlayerHTML5Api15,manifest:d,manifestUrl:e,isLive:a.isLiveStream(),isServableViaFbms:a.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api42,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api9.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api9.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api9.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api9.vpcPlayingStateEmitter,seekHandler:h,streamPriorityAdjuster:this.$VideoPlayerHTML5Api9.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api9.videoLiveTrace?this.$VideoPlayerHTML5Api9.videoLiveTrace:null,videoLicenseUri:this.$VideoPlayerHTML5Api9.videoLicenseUri?this.$VideoPlayerHTML5Api9.videoLicenseUri:null,prefetchCache:a.getPrefetchCache(),isGraphApiVideoLicenseUri:this.$VideoPlayerHTML5Api9.isGraphApiVideoLicenseUri,widevineCert:a.getWidevineCert(),videoWatchTimeTracker:this.$VideoPlayerHTML5Api54,desiredLatencyMs:a.getDesiredLatencyMs()});f.addListener("seekRangeChanged",function(){return c.$VideoPlayerHTML5Api79()});f.addListener("bufferingStart",function(){return c.$VideoPlayerHTML5Api66()});f.addListener("bufferingEnd",function(){return c.$VideoPlayerHTML5Api67()});f.addListener("bufferingProgress",this.$VideoPlayerHTML5Api74.bind(this));f.addListener("tracksChanged",function(){return c.emit("qualityChange")});f.addListener("streamInterrupted",function(){return c.$VideoPlayerHTML5Api78()});f.addListener("streamResumed",function(){return c.$VideoPlayerHTML5Api80()});f.addListener("replicaSwitch",this.$VideoPlayerHTML5Api75.bind(this));f.addListener("networkInterrupted",function(){return c.$VideoPlayerHTML5Api76()});f.addListener("networkResumed",function(){return c.$VideoPlayerHTML5Api77()});f.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||c.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:a});c.emit("qualityChange")});f.addListener("representation_ended",function(a){c.logRepresentationEnded(a)});f.addListener("blocked_paused_representation_ended",function(){c.onBlockedPausedRepresentationEnded()});f.addListener("debug/dashPlayerEvent",function(a){return c.emit("debug/dashPlayerEvent",a)});f.addListener("error",function(a){return c.$VideoPlayerHTML5Api92(a)});f.addListener("cea608AvailabilityChanged",function(){c.$VideoPlayerHTML5Api93()});f.addListener("cea608CaptionsParsed",function(a){c.$VideoPlayerHTML5Api63||(c.$VideoPlayerHTML5Api63=c.$VideoPlayerHTML5Api94()),c.$VideoPlayerHTML5Api63.then(function(b){b.appendFragments(a),c.$VideoPlayerHTML5Api93()})["catch"](function(a){return b("FBLogger")("video").catching(a).mustfix("Caught error in cea608 stream")})});f.setup();this.$VideoPlayerHTML5Api40=f}else{d=this.$VideoPlayerHTML5Api84();d&&(this.$VideoPlayerHTML5Api39.src=d);this.$VideoPlayerHTML5Api42&&this.seek(this.$VideoPlayerHTML5Api42)}this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.removeSubtitles();a.hasSubtitles()&&this.$VideoPlayerHTML5Api95(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(a.getRotation())};d.switchToStreamType=function(a){};d.replaceVideoDataFromURL=function(a){};d.getDashAudioConfiguration=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getDashAudioConfiguration():"none"};d.getAudioStreamInfoIDDebug=function(){__p&&__p();if(this.$VideoPlayerHTML5Api40){var a=this.$VideoPlayerHTML5Api40.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};d.getVideoTracksDebug=function(){if(this.$VideoPlayerHTML5Api40){var a=this.$VideoPlayerHTML5Api40.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};d.getCurrentlyPlayingVideoStreamInfoID=function(){var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api40)return a!=null?this.$VideoPlayerHTML5Api40.getVideoStreamInfoIDForTimePosition(a):null;else return this.$VideoPlayerHTML5Api20?this.$VideoPlayerHTML5Api10.getHDTag():this.$VideoPlayerHTML5Api10.getSDTag()};d.getCurrentlyPlayingAudioStreamInfoID=function(){var a=this.getCurrentTimePosition();return this.$VideoPlayerHTML5Api40&&a!=null?this.$VideoPlayerHTML5Api40.getAudioStreamInfoIDForTimePosition(a):null};d.getLocalEstimator=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getLocalEstimator():null};d.unmute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api28=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api39.muted=!1};d.mute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api28=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api39.muted=!0};d.setRotation=function(a){this.removeRotation(),this.applyRotation(a)};d.setDimensions=function(a,b){this.removeRotation(),this.$VideoPlayerHTML5Api57=a,this.$VideoPlayerHTML5Api15=b,this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation()),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.updateDimensions(a,b),this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setDimensions(a,b),this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.setDimensions(a),this.emit("dimensionsChange",a,b)};d.setVideoStreamOffset=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setVideoStreamOffset(a)};d.$VideoPlayerHTML5Api96=function(){this.$VideoPlayerHTML5Api39.controls=!this.$VideoPlayerHTML5Api11};d.$VideoPlayerHTML5Api69=function(){this.$VideoPlayerHTML5Api39.controls=this.$VideoPlayerHTML5Api39.controls&&!this.$VideoPlayerHTML5Api11};d.$VideoPlayerHTML5Api70=function(){this.$VideoPlayerHTML5Api14=b("EventListener").listen(this.$VideoPlayerHTML5Api39,"error",this.$VideoPlayerHTML5Api97.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api46.addSubscriptions(this.$VideoPlayerHTML5Api14),this.$VideoPlayerHTML5Api46.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api39,"playing",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"play",this.$VideoPlayerHTML5Api87.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"ended",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"waiting",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"pause",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"volumechange",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"mousedown",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"mouseup",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"timeupdate",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"click",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"loadedmetadata",this.$VideoPlayerHTML5Api107.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"progress",this.$VideoPlayerHTML5Api108.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api39,"seeked",this.$VideoPlayerHTML5Api109.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api39.parentNode,"pause",this.$VideoPlayerHTML5Api110.bind(this)))};d.$VideoPlayerHTML5Api111=function(a){this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};d.$VideoPlayerHTML5Api110=function(a){if(a.target!==this.$VideoPlayerHTML5Api39)return;this.$VideoPlayerHTML5Api39.ended||(this.$VideoPlayerHTML5Api59&&this.$VideoPlayerHTML5Api111(a),a.lastPauseReason=this.$VideoPlayerHTML5Api24);this.$VideoPlayerHTML5Api59=!1;this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.pause()};d.$VideoPlayerHTML5Api108=function(){__p&&__p();var a=this.$VideoPlayerHTML5Api39.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api39.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api73();this.$VideoPlayerHTML5Api112("flash/updateBuffer",{duration:b,offset:c})};d.$VideoPlayerHTML5Api81=function(){b("clearTimeout")(this.$VideoPlayerHTML5Api31)};d.$VideoPlayerHTML5Api73=function(){var a=this;this.$VideoPlayerHTML5Api81();this.$VideoPlayerHTML5Api39.networkState===this.$VideoPlayerHTML5Api39.NETWORK_LOADING&&(this.$VideoPlayerHTML5Api31=b("setTimeout")(function(){return a.$VideoPlayerHTML5Api113()},c.networkTimeout))};d.$VideoPlayerHTML5Api113=function(){var a=this.$VideoPlayerHTML5Api39.buffered,c=0;for(var d=0;d<a.length;d++){var e=a.start(d),f=a.end(d);c+=f-e}this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:c})};d.$VideoPlayerHTML5Api105=function(){var a;this.$VideoPlayerHTML5Api1?a=this.$VideoPlayerHTML5Api1.currentTime:a=this.$VideoPlayerHTML5Api39.currentTime;this.$VideoPlayerHTML5Api112("flash/updateStatus",{position:+a.toFixed(3)})};d.$VideoPlayerHTML5Api106=function(a){if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};d.isPaused=function(){return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api39.paused||this.$VideoPlayerHTML5Api39.ended:this.$VideoPlayerHTML5Api39.paused};d.$VideoPlayerHTML5Api114=function(){var a=this.$VideoPlayerHTML5Api39.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api39.duration};d.$VideoPlayerHTML5Api100=function(){if(this.$VideoPlayerHTML5Api64("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api114()||(this.$VideoPlayerHTML5Api56=!0,this.$VideoPlayerHTML5Api112("flash/buffering"))};d.setVolume=function(a){this.$VideoPlayerHTML5Api39.volume=a};d.$VideoPlayerHTML5Api102=function(){this.$VideoPlayerHTML5Api39.muted!==this.$VideoPlayerHTML5Api28&&this.$VideoPlayerHTML5Api39.volume===this.$VideoPlayerHTML5Api55&&this.$VideoPlayerHTML5Api39.volume>0?(this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api39.muted,this.$VideoPlayerHTML5Api55=this.$VideoPlayerHTML5Api39.volume,!this.$VideoPlayerHTML5Api39.muted?this.$VideoPlayerHTML5Api112("flash/unmuteVideo"):this.$VideoPlayerHTML5Api112("flash/muteVideo")):(this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api39.muted,this.$VideoPlayerHTML5Api55=this.$VideoPlayerHTML5Api39.volume,this.$VideoPlayerHTML5Api112("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api39.volume})),this.$VideoPlayerHTML5Api39.muted||this.$VideoPlayerHTML5Api112("flash/turnOffAutoplay",{reason:"unmuted"})};d.$VideoPlayerHTML5Api103=function(a){a.button===0&&(this.$VideoPlayerHTML5Api27=!0)};d.$VideoPlayerHTML5Api104=function(a){a.button===0&&(this.$VideoPlayerHTML5Api27=!1)};d.$VideoPlayerHTML5Api98=function(){this.$VideoPlayerHTML5Api71(!1),this.$VideoPlayerHTML5Api56&&(this.$VideoPlayerHTML5Api56=!1,this.$VideoPlayerHTML5Api112("flash/buffered")),this.$VideoPlayerHTML5Api54&&this.$VideoPlayerHTML5Api54.playing()};d.$VideoPlayerHTML5Api87=function(){this.$VideoPlayerHTML5Api19=!0,this.$VideoPlayerHTML5Api96(),this.$VideoPlayerHTML5Api93(),this.$VideoPlayerHTML5Api112("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api39.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api25}),this.$VideoPlayerHTML5Api73()};d.$VideoPlayerHTML5Api101=function(a){__p&&__p();var c=this.$VideoPlayerHTML5Api64("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api39.ended||c&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)){this.$VideoPlayerHTML5Api19=!1;this.$VideoPlayerHTML5Api71(!1);return}if(this.$VideoPlayerHTML5Api39.seeking&&this.$VideoPlayerHTML5Api24===b("VideoPlayerReason").SEEK)return;if(!this.$VideoPlayerHTML5Api64("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api27)return;if(this.$VideoPlayerHTML5Api24===b("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api24=null;return}(this.$VideoPlayerHTML5Api24===null||this.$VideoPlayerHTML5Api24===b("VideoPlayerReason").USER)&&this.$VideoPlayerHTML5Api112("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api24=null;this.$VideoPlayerHTML5Api19=!1;this.$VideoPlayerHTML5Api71(!1);this.$VideoPlayerHTML5Api69();this.$VideoPlayerHTML5Api112("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api39.currentTime.toFixed(2)})};d.$VideoPlayerHTML5Api99=function(){if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api69();this.$VideoPlayerHTML5Api19=!1;this.$VideoPlayerHTML5Api71(!1);this.$VideoPlayerHTML5Api112("flash/finishPlayback");this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.hideSubtitles()};d.$VideoPlayerHTML5Api109=function(){this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api39.currentTime.toFixed(3)})};d.getEstimatedBandwidth=function(){return this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};d.$VideoPlayerHTML5Api107=function(){this.$VideoPlayerHTML5Api112("flash/updateMetadata")};d.$VideoPlayerHTML5Api92=function(a){this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api32}))};d.$VideoPlayerHTML5Api97=function(){if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api39.error)return;var a=this.$VideoPlayerHTML5Api39.error,b=a.message;b||(b=k(a.code));this.emit("error",{error:l(a.code),isPlayback:this.$VideoPlayerHTML5Api32,message:b})};d.$VideoPlayerHTML5Api72=function(a,c){a===b("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api40&&(c.longest_init_response_time=this.$VideoPlayerHTML5Api40.getLongestInitResponseTime()),c.projection=this.getVideoProjection(),this.$VideoPlayerHTML5Api112("flash/logEvent",{logData:babelHelpers["extends"]({event:a},c)})};d.$VideoPlayerHTML5Api112=function(a,c){b("Arbiter").inform(a,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api16},c)),this.emit(a.substr("flash/".length),c)};d.getLastPlayReason=function(){return this.$VideoPlayerHTML5Api25};d.getVideoPlayReason=function(){return this.$VideoPlayerHTML5Api53};d.isMuted=function(){return this.$VideoPlayerHTML5Api28};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.setPlaybackRate(a):this.$VideoPlayerHTML5Api39.playbackRate=a};d.getPlaybackRate=function(){if(this.$VideoPlayerHTML5Api40)return this.$VideoPlayerHTML5Api40.getPlaybackRate();else return this.$VideoPlayerHTML5Api39.playbackRate};d.getPlaybackDuration=function(){return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api39.duration||0};d.getVolume=function(){return this.$VideoPlayerHTML5Api39.volume};d.getCurrentTimePosition=function(){return this.$VideoPlayerHTML5Api39.currentTime};d.getBufferEndPosition=function(){var a=this.$VideoPlayerHTML5Api39.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};d.$VideoPlayerHTML5Api84=function(){if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api20&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api20&&this.$VideoPlayerHTML5Api10.hasHD())return this.$VideoPlayerHTML5Api115();else return this.$VideoPlayerHTML5Api116()};d.$VideoPlayerHTML5Api115=function(){if(this.$VideoPlayerHTML5Api21)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD()};d.$VideoPlayerHTML5Api116=function(){if(this.$VideoPlayerHTML5Api21)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD()};d.toggleSubtitles=function(){this.$VideoPlayerHTML5Api48=!this.$VideoPlayerHTML5Api48,this.$VideoPlayerHTML5Api93(),this.emit("toggleSubtitles")};d.hasSubtitles=function(){return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.hasSubtitles()};d.areSubtitlesActive=function(){return this.$VideoPlayerHTML5Api48};d.areSubtitlesAutogenerated=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.areSubtitlesAutogenerated():!1};d.areHLSActive=function(){return!1};d.isRTMP=function(){return!1};d.setSubtitlesStyle=function(a,b,c,d){this.$VideoPlayerHTML5Api49=a,this.$VideoPlayerHTML5Api50=b,this.$VideoPlayerHTML5Api51=c,this.$VideoPlayerHTML5Api52=d};d.$VideoPlayerHTML5Api93=function(){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.hasSubtitles()&&this.$VideoPlayerHTML5Api40.enableSubtitles(this.$VideoPlayerHTML5Api48),this.$VideoPlayerHTML5Api48?this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.showSubtitles():this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api47.hideSubtitles()};d.$VideoPlayerHTML5Api117=function(){this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api93(),this.emit("loadedSubtitles"),this.$VideoPlayerHTML5Api47.setSubtitlesStyle(this.$VideoPlayerHTML5Api49,this.$VideoPlayerHTML5Api50,this.$VideoPlayerHTML5Api51,this.$VideoPlayerHTML5Api52)};d.$VideoPlayerHTML5Api95=function(a){__p&&__p();var c=this;b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(b,d){c.$VideoPlayerHTML5Api47&&c.$VideoPlayerHTML5Api47.removeSubtitles();var e=c.$VideoPlayerHTML5Api9.subtitleDrawer;d=new d(c.$VideoPlayerHTML5Api39,a);c.$VideoPlayerHTML5Api47=new b(c.$VideoPlayerHTML5Api39,d);c.$VideoPlayerHTML5Api47.setOnSubtitlesReady(function(){return c.$VideoPlayerHTML5Api117()});c.$VideoPlayerHTML5Api47.registerDrawer(e);c.$VideoPlayerHTML5Api47.loadSubtitles()},"VideoPlayerHTML5Api")};d.$VideoPlayerHTML5Api94=function(){__p&&__p();var a=this,c=new(b("Deferred"))();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(b,d){d=new d(a.$VideoPlayerHTML5Api39);c.resolve(d);a.$VideoPlayerHTML5Api47&&a.$VideoPlayerHTML5Api47.removeSubtitles();var e=a.$VideoPlayerHTML5Api9.subtitleDrawer;a.$VideoPlayerHTML5Api47=new b(a.$VideoPlayerHTML5Api39,d);a.$VideoPlayerHTML5Api47.setOnSubtitlesReady(function(){return a.$VideoPlayerHTML5Api117()});a.$VideoPlayerHTML5Api47.registerDrawer(e);a.$VideoPlayerHTML5Api47.loadSubtitles()},"VideoPlayerHTML5Api");return c.getPromise()};d.setStillFrameEnabled=function(a){this.$VideoPlayerHTML5Api44=!a};d.$VideoPlayerHTML5Api65=function(){__p&&__p();if(this.$VideoPlayerHTML5Api64("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api39);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api39.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api39.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api39.width||o,height:Number(c)||this.$VideoPlayerHTML5Api39.height||p}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api39)};d.getDimensionsForDevice=function(){var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api65();return{width:b.width*a,height:b.height*a}};d.$VideoPlayerHTML5Api118=function(){__p&&__p();if(this.$VideoPlayerHTML5Api44)return;if(!this.$VideoPlayerHTML5Api43){var a=this.$VideoPlayerHTML5Api65();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api39,a);this.$VideoPlayerHTML5Api43=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api39)}else a=this.$VideoPlayerHTML5Api43;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api39)};d.$VideoPlayerHTML5Api82=function(){if(!this.$VideoPlayerHTML5Api43)return;b("CSS").hide(this.$VideoPlayerHTML5Api43.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api39)};d.$VideoPlayerHTML5Api86=function(a){__p&&__p();var c=this;a===void 0&&(a=null);var d=this.$VideoPlayerHTML5Api1;if(!d)return b("Promise").resolve();if(this.$VideoPlayerHTML5Api22)return this.$VideoPlayerHTML5Api23||b("Promise").resolve();var e=[];this.$VideoPlayerHTML5Api22=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();var f=a==null?d.currentTime:a;if(this.$VideoPlayerHTML5Api40){a=function(){return c.$VideoPlayerHTML5Api40&&c.$VideoPlayerHTML5Api40.reload(f)||b("Promise").resolve()};var g;this.$VideoPlayerHTML5Api64("delay_reload_for_unload_promise",!1)&&this.$VideoPlayerHTML5Api12?g=this.$VideoPlayerHTML5Api12.then(a):g=a();e.push(g)}else{a=this.$VideoPlayerHTML5Api84();a&&(this.$VideoPlayerHTML5Api39.src=a);this.$VideoPlayerHTML5Api39.preload=d.preload}var h=new(b("Deferred"))();e.push(h.getPromise());var i=function(){var a=c.$VideoPlayerHTML5Api88();c.$VideoPlayerHTML5Api64("create_restore_abort_loading_promise",!1)?h.resolve(a):h.resolve()};b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api39,f,function(){c.$VideoPlayerHTML5Api82(),c.$VideoPlayerHTML5Api1&&(c.$VideoPlayerHTML5Api39.muted=c.$VideoPlayerHTML5Api1.mutedState,c.$VideoPlayerHTML5Api1=null,c.emit("restoredAfterAbort")),c.$VideoPlayerHTML5Api22=!1,c.$VideoPlayerHTML5Api23=null,b("onCanPlayHTMLMediaElement").once(c.$VideoPlayerHTML5Api39,i)});this.$VideoPlayerHTML5Api23=b("Promise").all(e);return this.$VideoPlayerHTML5Api23};d.abortLoadingWithoutStillFrame=function(){__p&&__p();var a=this;if(this.$VideoPlayerHTML5Api1)return;var c=this.$VideoPlayerHTML5Api39.currentTime,d=this.isMuted(),e=this.$VideoPlayerHTML5Api39.duration,f=this.isPaused(),g=this.$VideoPlayerHTML5Api39.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api10&&this.$VideoPlayerHTML5Api10.isLiveStream()){var h=this.getSeekableRanges();if(h){var i=h.length()-1;h=h.end(i);c=h}}this.$VideoPlayerHTML5Api34=!1;this.$VideoPlayerHTML5Api1={mutedState:d,currentTime:c,playbackDuration:e,preload:g};f&&this.$VideoPlayerHTML5Api19&&b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"pause");this.emit("abortedLoading");if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api40.unload().then(function(){return a.$VideoPlayerHTML5Api12=null})["catch"](function(){return a.$VideoPlayerHTML5Api12=null});return}this.$VideoPlayerHTML5Api39.preload="none";this.$VideoPlayerHTML5Api39.removeAttribute("src");this.$VideoPlayerHTML5Api39.load()};d.abortLoading=function(a){if(this.$VideoPlayerHTML5Api1)return;a=a||{};a.disableStillFrame||this.$VideoPlayerHTML5Api118();this.abortLoadingWithoutStillFrame()};d.setPreferredVideoQuality=function(a){__p&&__p();var c=this;this.$VideoPlayerHTML5Api33=a;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api40.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:b("VideoPlayerReason").USER}));this.$VideoPlayerHTML5Api20=!this.$VideoPlayerHTML5Api20;var d=this.$VideoPlayerHTML5Api39.currentTime,e=this.$VideoPlayerHTML5Api39.muted,f=this.$VideoPlayerHTML5Api39.volume;a=this.$VideoPlayerHTML5Api84();a&&(this.$VideoPlayerHTML5Api39.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api39,function(){c.$VideoPlayerHTML5Api39.currentTime=d,c.$VideoPlayerHTML5Api39.muted=e,c.$VideoPlayerHTML5Api39.volume=f,c.$VideoPlayerHTML5Api88(),c.emit("qualityChange")});this.$VideoPlayerHTML5Api32=!0;this.$VideoPlayerHTML5Api71(!0);this.$VideoPlayerHTML5Api90()};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Api33=null,this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){return this.$VideoPlayerHTML5Api33};d.getSelectedVideoQuality=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getSelectedVideoQuality():this.$VideoPlayerHTML5Api20?"HD":"SD"};d.getAvailableVideoQualities=function(){if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api10)return[];return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getAvailableVideoQualities():this.$VideoPlayerHTML5Api10.hasHD()?["SD","HD"]:["SD"]};d.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getIsAbrEnabled():!1};d.canAutoSelectVideoQuality=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.canAutoSelectVideoQuality():!1};d.setPreloadDisabled=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.restoreStreamBufferSize()};d.setSmartBufferAdjustmentEnabled=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setSmartBufferAdjustmentEnabled(a)};c.getPlayerVersion=function(){return b("VideoPlayerVersions").PLEASANTVILLE};d.getUpdatedPlayerVersion=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getPlayerVersion()||c.getPlayerVersion():c.getPlayerVersion()};d.getVideoNodeSource=function(){return this.$VideoPlayerHTML5Api39.src||""};d.getVideoProjection=function(){if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35;if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api40.getVideoProjection();if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35}this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api35};d.$VideoPlayerHTML5Api119=function(){this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};d.$VideoPlayerHTML5Api120=function(){this.$VideoPlayerHTML5Api7?(this.$VideoPlayerHTML5Api36=this.$VideoPlayerHTML5Api7,this.$VideoPlayerHTML5Api7=null):this.$VideoPlayerHTML5Api36=n};d.$VideoPlayerHTML5Api121=function(){this.$VideoPlayerHTML5Api8=this.getVolume(),this.$VideoPlayerHTML5Api6=this.isMuted()};d.$VideoPlayerHTML5Api122=function(){this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6&&(this.setVolume(this.$VideoPlayerHTML5Api8),this.$VideoPlayerHTML5Api6?this.mute():this.unmute(),this.$VideoPlayerHTML5Api8=null,this.$VideoPlayerHTML5Api6=null)};d.reloadDashManifest=function(){var a=this.$VideoPlayerHTML5Api40;if(a){this.$VideoPlayerHTML5Api119();this.abortLoading();return this.$VideoPlayerHTML5Api123(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api36)}return b("Promise").reject()};d.reloadLiveVODHighlightsManifest=function(){var a=this.$VideoPlayerHTML5Api40;if(a){this.$VideoPlayerHTML5Api119();this.abortLoading();return this.$VideoPlayerHTML5Api123(function(){return a.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api36)}return b("Promise").reject()};d.$VideoPlayerHTML5Api123=function(a,b){var c=this;return a().then(function(){c.$VideoPlayerHTML5Api86(b),c.$VideoPlayerHTML5Api120()})};d.switchReplicaSet=function(a,c){__p&&__p();var d=this,e=this.$VideoPlayerHTML5Api40,f={failover_response_code:c.status,original_url:"",replica:a},g="";if(e){g=e.getManifestUrl()||g;f.original_url=g;this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH,{error_code:c.status,error_user_info:{failover_response_code:c.status,url:c.url||"",replica:a}});try{this.abortLoading(),e.switchReplicaSet(a)}catch(a){this.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_FAILED,{reason:a.toString(),error_user_info:f});return}this.$VideoPlayerHTML5Api86().then(function(){d.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_SUCCESS,{error_code:c.status,error_user_info:f})})["catch"](function(a){d.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_FAILED,{reason:a.toString(),error_user_info:f})})}};d.isPlayingVODHighlights=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.isPlayingLiveVODHighlights():!1};d.$VideoPlayerHTML5Api88=function(){__p&&__p();var a=this,c=b("Promise").resolve();if(this.$VideoPlayerHTML5Api32){if(this.$VideoPlayerHTML5Api3)var d=b("EventListener").capture(this.$VideoPlayerHTML5Api39.parentNode,"play",function(a){b("Event").kill(a),d.remove()});this.$VideoPlayerHTML5Api39.ended&&!this.$VideoPlayerHTML5Api39.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api39,"play");if(this.$VideoPlayerHTML5Api40){var e=this.$VideoPlayerHTML5Api40,f=j&&j.isReady()&&j.get("www_videos_shaka_wait_for_buffered");c=f?this.$VideoPlayerHTML5Api124():e.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api39.preload="auto"),c=this.$VideoPlayerHTML5Api39.play();c&&c["catch"]&&c["catch"](function(c){c.name==="NotAllowedError"&&(a.$VideoPlayerHTML5Api72(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"}),a.$VideoPlayerHTML5Api112("flash/playbackNotAllowed")),a.$VideoPlayerHTML5Api71(!1)})}this.$VideoPlayerHTML5Api89();return c};d.isLiveVODHighlightsAvailable=function(){return this.$VideoPlayerHTML5Api17};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){return!!(this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.isFBWasLive())};d.isFBIsLiveTemplated=function(){return!!(this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.isFBIsLiveTemplated())};d.isFBMS=function(){return!!(this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.isFBMS())};d.isLiveheadCatchupEnabled=function(){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.isLiveheadCatchupEnabled():!1};d.getSeekableRanges=function(){__p&&__p();if(this.$VideoPlayerHTML5Api40)return this.$VideoPlayerHTML5Api40.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api39){var c=this.$VideoPlayerHTML5Api39.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};d.$VideoPlayerHTML5Api124=function(){__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api13&&this.$VideoPlayerHTML5Api40)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api39.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api39.buffered.start(0);d=this.$VideoPlayerHTML5Api39.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api40)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api40.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,100)}));case 10:f.next=1;break;case 12:return f.abrupt("return",null);case 13:case"end":return f.stop()}},null,this)};c.getStartMutedFromConfig=function(a){return a.muted};c.getStreamTypeFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};c.getIsServableViaFbmsFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};c.getIsPlayingLiveFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};c.getIsFacecastAudioFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};c.getIsSpherical=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};return c}(b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));a.networkTimeout=5e3;e.exports=a}),null);
__d("VideoAutoplayRule",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=!0,this.videoUnit=a}var b=a.prototype;b.calculateAutoplayScore=function(){throw new Error("Should be overridden")};b.enableRule=function(){this.$1=!0};b.disableRule=function(){this.$1=!1};b.isEnabled=function(){return this.$1};return a}();e.exports=a}),null);
__d("DocumentFocusForMutedVideoAutoplayRule",["VideoAutoplayRule"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}var c=b.prototype;c.calculateAutoplayScore=function(){return this.isEnabled()?this.$DocumentFocusForMutedVideoAutoplayRule1():1};c.$DocumentFocusForMutedVideoAutoplayRule1=function(){var a=this.videoUnit.getVideoPlayerController();return a&&a.isMuted()?document.hasFocus()?1:0:1};return b}(b("VideoAutoplayRule"));e.exports=a}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BALLOT:"ballot",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",CIVIC_PROPOSAL:"civic_proposal",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results"})}),null);
__d("VideoAutoplayControllerAbortLoadingHelper",["invariant","VideoPlayerAbortLoadingExperiment","VideoPlayerExperiments","VideoPlayerLoggerSource","VideoPlayerShakaGlobalConfig","getViewportDimensions"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=new Set(),this.$2=new Map()}var c=a.prototype;c.maybeAbortLoading=function(){__p&&__p();for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var h=b("VideoPlayerShakaGlobalConfig").getString("defer_which_video_to_abort_loading_decisioning_logic","all"),i=f.getVideoPlayerController();i=i?i.isLiveVideo():null;if(i!==null&&(h==="vod"&&i||h==="live"&&!i))continue;if(!f.isState("playing")&&typeof f.abortLoading==="function"&&a.shouldAbortLoadingVideoUnit(f))b("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading?this.$3(f):this.$4(f);else if(b("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading&&f.isState("playing")){h=this.$2.get(f);!h&&g(0,3497);h&&h.abortedLoading&&(h.abortedLoading=!1)}}};c.$3=function(a){if(b("VideoPlayerExperiments").abortLoadingHelperBoundedReloading){var c=b("getViewportDimensions")().height/-2;a.getDistanceToViewport()<b("VideoPlayerExperiments").abortedLoadingPixelBoundary+c&&!a.isVisible()?this.$5(a):a.getDistanceToViewport()>b("VideoPlayerExperiments").reloadingPixelBoundary+c&&this.$6(a)}else a.getDistanceToViewport()<0&&!a.isVisible()&&this.$5(a)};c.addVideoUnit=function(a){this.$1.has(a)||(this.$1.add(a),this.$2.set(a,{y:a.getDistanceToViewport(),timestamp:new Date().valueOf(),v:0,abortedLoading:!1}))};c.removeVideoUnit=function(a){this.$1["delete"](a),this.$2["delete"](a)};c.calculateFutureScrollPosition=function(a){var b=a.y1-a.y0,c=a.t1-a.t0;b=b/c;var d=b-a.v0;d=d/c;c=a.t;c=d*c*c/2+c*b+a.y1;return{v1:b,a:d,S:c}};c.preloadClosestVideoUnits=function(a){var b=this;this.$7(a).forEach(function(a){return b.$6(a)})};c.$7=function(a){return Array.from(this.$1).filter(function(a){return a.getDistanceToViewport()>=0}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};c.$6=function(a){var b=this.$2.get(a);!b&&g(0,3497);var c;b&&(c=b.abortedLoading,b.abortedLoading=!1);c&&typeof a.preload==="function"&&a.preload()};c.$5=function(a){var b=this.$2.get(a);!b&&g(0,3497);var c;b&&(c=b.abortedLoading,b.abortedLoading=!0);!c&&typeof a.abortLoading==="function"&&a.abortLoading()};c.$4=function(a){__p&&__p();var c=b("getViewportDimensions")().height,d=1600;c=c/2;var e=c+d;c=-c;c=c-d;d=this.$2.get(a);!d&&g(0,3497);if(!d)return;var f=a.getDistanceToViewport(),h=d.y;d.y=f;var i=new Date().valueOf(),j=d.timestamp;d.timestamp=i;var k=d.v;if(c<=f&&e>=f){d.abortedLoading&&this.$6(a);return}var l=500;h=this.calculateFutureScrollPosition({y0:h,y1:f,t0:j,t1:i,v0:k,t:l});d.v=h.v1;j=h.S;d.abortedLoading?(f<c&&j>c||f>e&&j<e)&&this.$6(a):this.$5(a)};c.$8=function(a){a=a.getVideoPlayerController();return a?a.getVideoPlayerID():null};a.shouldAbortLoadingVideoUnit=function(a){var c=b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_decisioning_logic",!1),d=!c,e=!0;if(a){typeof a.getIsInChannel==="function"&&(e=a.getIsInChannel());typeof a.getSource==="function"&&c&&(d=a.getSource()===b("VideoPlayerLoggerSource").TAHOE);return b("VideoPlayerAbortLoadingExperiment").canAbort&&!e&&!d}return!1};return a}();e.exports=a}),null);
__d("VideoAutoplayControllerBase",["Arbiter","DesktopHscrollUnitEventConstants","Event","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoPlayerExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerVersions","VideoScrollTracker","Visibility","clearTimeout","debounce","destroyOnUnload","emptyFunction","setTimeout","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerShakaGlobalConfig").getNumber("abort_loading_delay",3e3);function h(a,b){var c=[];return function(){var d=Date.now();c.unshift(d);var e=0;while(c[++e]+b>d);c=c.slice(0,e);return c.length<=a}}function i(a,c,d){__p&&__p();var e=null;return function(){__p&&__p();for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];if(c()){a.apply(void 0,g);return b("emptyFunction").thatReturnsFalse}else if(!e){var i=b("setTimeout")(function(){e=null,a.apply(void 0,g)},d);e=function(){if(!e)return!1;b("clearTimeout")(i);e=null;return!0}}return e}}a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$8=b("emptyFunction");this.$9=b("emptyFunction");this.$3=null;this.$2=null;this.$10=[];this.$1=a;this.$4=null;this.$5=new(b("SubscriptionsHandler"))();b("VideoPlayerShakaGlobalConfig").getBool("autoplay_controller_use_video_scroll_tracker",!1)&&(this.$11=new(b("VideoScrollTracker"))(document.body),this.$11.start());b("destroyOnUnload")(function(){c.$10=[],c.$3=null,c.$4&&(c.$4.remove(),c.$4=null),c.$5.release(),c.$11&&c.$11.destroy()});b("VideoPlayerExperiments").autoplayMaxCallsPerWindow&&(this.$6=i(function(a){var b=c.$3;b&&b.playWithoutUnmute(a)},h(b("VideoPlayerExperiments").autoplayMaxCallsPerWindow,b("VideoPlayerExperiments").autoplayThrottleWindow),b("VideoPlayerExperiments").autoplayThrottleDelay));this.$7=b("emptyFunction").thatReturnsFalse}var c=a.prototype;c.getVideoUnits=function(){return this.$10};c.addVideoUnit=function(a){var b=this,c=a.getVideoPlayerController();c&&c.registerOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection",function(){return b.getLastScrollDirection()});this.$10.push(a)};c.removeVideoUnit=function(a){var b=this.$10.findIndex(function(b){return b===a});if(b>-1){this.$10.splice(b,1);b=a.getVideoPlayerController();b&&b.unregisterOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")}};c.getPlayingVideoUnit=function(){return this.$3};c.setPlayingVideoUnit=function(a){this.$3=a,this.$3&&this.setupPlayingVideoUnitSubscriptions()};c.getLastScrollDirection=function(){return this.$11?this.$11.getLastScrollDirection():null};c.playVideo=function(a,c){__p&&__p();if(b("VideoPlayerExperiments").disableAutoplayForInactiveTab&&b("Visibility").isHidden()){if(b("VideoPlayerExperiments").removeHiddenVideoTracking){this.setPlayingVideoUnit(null);return}this.$2=a;return}this.setPlayingVideoUnit(a);if(this.$3){a=this.$6;a?this.$7=a.call(this,c):this.$3.playWithoutUnmute(c)}};c.setupPlayingVideoUnitSubscriptions=function(){throw new Error("Should be overridden")};c.addSubscriberVideoUnit=function(){this.getVideoUnits().length||(this.$5.addSubscriptions(b("Event").listen(window,"resize",this.updateAutoplay.bind(this)),b("Event").listen(window,"blur",this.$12.bind(this)),b("Event").listen(window,"focus",this.$13.bind(this)),b("Visibility").addListener(b("Visibility").HIDDEN,this.$12.bind(this)),b("Visibility").addListener(b("Visibility").VISIBLE,this.$13.bind(this)),b("Arbiter").subscribe(b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this))),this.$14()||this.$15())};c.$12=function(){b("VideoPlayerExperiments").removeHiddenVideoTracking?this.$16(b("VideoPlayerReason").PAGE_VISIBILITY):this.$2||(this.$2=this.getPlayingVideoUnit(),this.$16(b("VideoPlayerReason").PAGE_VISIBILITY))};c.$13=function(){b("VideoPlayerExperiments").removeHiddenVideoTracking?this.updateAutoplay():this.$2&&(this.playVideo(this.$2,b("VideoPlayerReason").PAGE_VISIBILITY),this.$2=null)};c.$15=function(){__p&&__p();var a=this,c=function(){a.$11&&a.$11.onScroll(),a.updateAutoplay()};this.$4&&this.$4.remove();this.$8=b("throttle")(c,this.$1);this.$9=b("debounce")(function(){return a.updateAutoplay()},this.$1);var d=b("VideoPlayerShakaGlobalConfig").getBool("autoplay_use_unthrottled_scroll_handler",!1)?function(){return c()}:function(){a.$8(),b("VideoPlayerExperiments").useDebouncedScroll&&a.$9()};this.$4=b("Event").listen(window,"scroll",d)};c.$14=function(){return!!this.$4};c.getClosestVideoUnits=function(a){return this.$10.filter(function(a){return a.getDistanceToViewport()>=0}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};c.getVisibleUnits=function(){var a=[],c=b("VideoPlayerShakaGlobalConfig").getBool("do_not_emit_become_visibility_events_on_vpc",!1);this.$10.forEach(function(b){var d=b.getVideoPlayerController();b.isVisible()?(a.push(b),b.wasVisible||(b.wasVisible=!0,b.logDisplayed(),!c&&d&&d.emit("becomeVisible"))):b.wasVisible&&(!c&&d&&d.emit("becomeInvisible"),b.wasVisible=!1)});return a};c.$17=function(a){var c=b("VideoPlayerShakaGlobalConfig").getBool("oz_www_allow_abort_loading_from_autoplay_controller",!1),d=b("VideoPlayerShakaGlobalConfig").getString("defer_which_video_to_abort_loading_decisioning_logic","all"),e=a.getVideoPlayerController();if(!c&&e&&e.isPlayerVersion(b("VideoPlayerVersions").OZ))return!1;c=e?e.isLiveVideo():null;return c!==null&&(d==="vod"&&c||d==="live"&&!c)?!1:b("VideoAutoplayControllerAbortLoadingHelper").shouldAbortLoadingVideoUnit(a)};c.pausePlayingVideo=function(a,c){__p&&__p();var d=this.$3;if(d){var e=function a(){if(!d.isState("playing")){if(b("VideoPlayerExperiments").abortLoadingReUpStillVisibleVideos&&d.isVisible()){b("setTimeout")(a,g);return}typeof d.abortLoading==="function"&&d.abortLoading()}};if(d.isVisible()){var f=d.getVideoPlayerController();if(f&&f.isPlayRequestPending())return}this.$7()||d.pause(a);b("VideoPlayerExperiments").decoupleAbortLoadingFromPause||this.$17(d)&&!c&&b("setTimeout")(e,g);this.$3=null}};c.$16=function(a){this.pausePlayingVideo(a,!0)};c.updateAutoplay=function(){throw new Error("Should be overridden")};return a}();e.exports=a}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/",{})}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/dismiss/",{})}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/log/view/",{})}),null);
__d("requestBoundedAnimationFrame",["cancelAnimationFrame","clearTimeout","performanceNow","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){a=function(a,c,d){var e=b("setTimeout")(function(){e=null,f!==null&&b("cancelAnimationFrame")(f),a(b("performanceNow")())},d),f=b("requestAnimationFrame")(function(c){f=null,e!==null&&b("clearTimeout")(e),a(c)},c);return function(){f!==null&&(b("cancelAnimationFrame")(f),f=null),e!==null&&(b("clearTimeout")(e),e=null)}};e.exports=a}),null);
__d("VideoAutoplayControllerX",["csx","AsyncRequest","DocumentFocusForMutedVideoAutoplayRule","DOM","Event","Network","Run","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoAutoplayControllerBase","VideoPlayerExperiments","VideoPlayerPreloadExperiment","VideoPlayerReason","VideoPlayerShakaGlobalConfig","XVideoAutoplayNuxAsyncController","XVideoAutoplayNuxDismissAsyncController","XVideoAutoplayNuxLogViewAsyncController","clearTimeout","destroyOnUnload","getViewportDimensions","performanceNow","requestBoundedAnimationFrame","requestIdleCallback","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=b("VideoPlayerExperiments").videoPollingFrequency,j=!1;function k(){return!b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad||j}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,i)||this;c.$VideoAutoplayControllerX4=!1;c.$VideoAutoplayControllerX5=!1;c.$VideoAutoplayControllerX6=0;c.$VideoAutoplayControllerX17=new(b("VideoAutoplayControllerAbortLoadingHelper"))();c.$VideoAutoplayControllerX10=new(b("SubscriptionsHandler"))();c.$VideoAutoplayControllerX18=new(b("SubscriptionsHandler"))();c.$VideoAutoplayControllerX12=!0;c.$VideoAutoplayControllerX9=!0;c.$VideoAutoplayControllerX13=!0;c.$VideoAutoplayControllerX2=null;c.$VideoAutoplayControllerX1=null;c.$VideoAutoplayControllerX14=!1;c.$VideoAutoplayControllerX3=null;c.$VideoAutoplayControllerX7=!1;c.$VideoAutoplayControllerX16=!1;c.$VideoAutoplayControllerX15=!1;var d=b("XVideoAutoplayNuxAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setAllowCrossPageTransition().send();b("destroyOnUnload")(function(){c.$VideoAutoplayControllerX19(),b("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd&&(c.$VideoAutoplayControllerX11&&b("clearTimeout")(c.$VideoAutoplayControllerX11),c.$VideoAutoplayControllerX8.remove()),babelHelpers.assertThisInitialized(c)===h&&(h=null)});b("Run").onAfterLoad(function(){j=!0,b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad&&(h&&h.updateAutoplay()),document.hasFocus()||b("Event").fire(window,"blur"),b("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd&&c.$VideoAutoplayControllerX20()});b("VideoPlayerShakaGlobalConfig").getBool("use_two_frequency_update_autoplay",!1)&&c.$VideoAutoplayControllerX21(Date.now());return c}c.$VideoAutoplayControllerX22=function(a){return b("VideoPlayerExperiments").fixVPCCallBeforeLoaded?!(a.isState("fallback")||a.isState("loading")):!0};var d=c.prototype;d.$VideoAutoplayControllerX20=function(){__p&&__p();var a=this,c=33,d=34,e=35,f=36;this.$VideoAutoplayControllerX11=null;var g=function(){a.$VideoAutoplayControllerX23(a.$VideoAutoplayControllerX9),b("clearTimeout")(a.$VideoAutoplayControllerX11),a.$VideoAutoplayControllerX11=null};this.$VideoAutoplayControllerX8=b("Event").listen(document.body,"keydown",function(h){var i=-1;switch(h.keyCode){case c:case d:i=b("VideoPlayerExperiments").pressPgUpPgDownAutoplayShutoffInterval;break;case e:case f:i=b("VideoPlayerExperiments").pressHomeEndAutoplayShutoffInterval;break;default:break}i>-1&&(a.$VideoAutoplayControllerX11?(b("clearTimeout")(a.$VideoAutoplayControllerX11),a.$VideoAutoplayControllerX11=b("setTimeout")(g,i)):a.$VideoAutoplayControllerX12&&(a.$VideoAutoplayControllerX23(!1),a.$VideoAutoplayControllerX11=b("setTimeout")(g,i)))})};d.$VideoAutoplayControllerX23=function(a){this.$VideoAutoplayControllerX12=a,this.updateAutoplay()};c.registerVideoUnit=function(a){__p&&__p();h==null&&(h=new c());h.addSubscriberVideoUnit();h.registerDefaultAutoplayRules(a);h.addVideoUnit(a);var d=new(b("SubscriptionsHandler"))();d.addSubscriptions.apply(d,h.$VideoAutoplayControllerX24(a));h.$VideoAutoplayControllerX25();a.isVisible()&&k()&&h.updateAutoplay();h.shouldRestoreAllSubsequentStreamBufferSizes()&&h.restoreStreamBufferSize();return function(){h&&h.removeVideoUnit(a),d.release(),h&&a===h.getPlayingVideoUnit()&&(h.$VideoAutoplayControllerX18.release(),h.setPlayingVideoUnit(null))}};c.setShouldAutoplay=function(a){h==null&&(h=new c()),h.$VideoAutoplayControllerX12=a,h.$VideoAutoplayControllerX13=a,h.$VideoAutoplayControllerX9=a,h.updateAutoplay()};d.$VideoAutoplayControllerX19=function(){this.$VideoAutoplayControllerX10.release(),this.$VideoAutoplayControllerX18.release()};c.setAutoplayNux=function(a,c){__p&&__p();var d=h;if(!d)return;d.$VideoAutoplayControllerX2=a;d.$VideoAutoplayControllerX1=c;d.$VideoAutoplayControllerX14=!0;a=b("DOM").find(c.getContentRoot(),"._5cqr");b("Event").listen(a,"click",function(){d.$VideoAutoplayControllerX26()});a=b("DOM").scry(c.getContentRoot(),"._36gl")[0];a&&b("Event").listen(a,"click",function(){d.$VideoAutoplayControllerX26()})};d.$VideoAutoplayControllerX26=function(){this.$VideoAutoplayControllerX1&&this.$VideoAutoplayControllerX1.hide();this.$VideoAutoplayControllerX14=!1;var a=b("XVideoAutoplayNuxDismissAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send()};d.registerDefaultAutoplayRules=function(a){b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&b("VideoPlayerExperiments").pauseMutedIfNoDocumentFocus&&a.registerAutoplayRule(new(b("DocumentFocusForMutedVideoAutoplayRule"))(a))};d.setupPlayingVideoUnitSubscriptions=function(){__p&&__p();var a=this,c=this.getPlayingVideoUnit();if(!c)return;c.addListener&&(this.$VideoAutoplayControllerX10.release(),this.$VideoAutoplayControllerX10.engage(),c.isLooping()||this.$VideoAutoplayControllerX10.addSubscriptions(c.addListener("finishPlayback",function(){a.setPlayingVideoUnit(null)})),this.$VideoAutoplayControllerX10.addSubscriptions(c.addListener("turnOffAutoplay",function(){a.setPlayingVideoUnit(null)}),c.addListener("pausePlayback",function(){a.$VideoAutoplayControllerX25()}),c.addListener("finishPlayback",function(){a.$VideoAutoplayControllerX25()}),b("Network").addListener("online",function(){a.$VideoAutoplayControllerX25()}),b("Network").addListener("offline",function(){a.$VideoAutoplayControllerX25()})))};d.$VideoAutoplayControllerX25=function(){__p&&__p();var a=this;if(b("VideoPlayerExperiments").webVideosBlockAutoplayWhenOffline)if(b("Network").isOnline())this.$VideoAutoplayControllerX12=this.$VideoAutoplayControllerX13;else{this.$VideoAutoplayControllerX13=this.$VideoAutoplayControllerX12;this.$VideoAutoplayControllerX12=!1;return}var d=this.getVideoUnits();for(var e=0;e<d.length;e++){var f=d[e].getVideoPlayerController();f&&(f.getDataInsertionPosition()==="0"&&(this.$VideoAutoplayControllerX7=!0,this.$VideoAutoplayControllerX16===!1&&(c.$VideoAutoplayControllerX22(f)&&f.restoreStreamBufferSize(),f.once("beginPlayback",function(){a.$VideoAutoplayControllerX15=!0,a.restoreStreamBufferSize()}),this.$VideoAutoplayControllerX16=!0)),b("VideoPlayerExperiments").autoplayBlockBlacklist||f.updateAutoplayRestrained())}this.$VideoAutoplayControllerX7||this.restoreStreamBufferSize()};d.shouldRestoreAllSubsequentStreamBufferSizes=function(){return!this.$VideoAutoplayControllerX7?!0:this.$VideoAutoplayControllerX15};d.restoreStreamBufferSize=function(){var a=this.getVideoUnits();for(var b=0;b<a.length;b++){var d=a[b].getVideoPlayerController();d&&c.$VideoAutoplayControllerX22(d)&&d.restoreStreamBufferSize()}};d.$VideoAutoplayControllerX24=function(a){__p&&__p();var c=this,d;if(!a.addListener)return[];var e=function(){__p&&__p();if(!a.isMuted()&&a.isState("playing")){var d=c.$VideoAutoplayControllerX3;if(d&&d!==a){var e=d.getVideoPlayerController();if(e){var f=e.getOption("VideoWithLiveBroadcast","isLive");f?e.mute():e.pause(b("VideoPlayerReason").USER)}try{d.pause(b("VideoPlayerReason").USER)}catch(a){}}c.$VideoAutoplayControllerX3=a}};e=[a.addListener("beginPlayback",e),a.addListener("changeVolume",e),a.addListener("unmuteVideo",e)];(d=this.$VideoAutoplayControllerX18).addSubscriptions.apply(d,e);return e};d.$VideoAutoplayControllerX27=function(a){__p&&__p();var c=this,d=a.length,e=null;if(d===1)e=a[0],e=e.isAutoplayable()?e:null,b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&e&&(e=this.$VideoAutoplayControllerX28(e)?e:null);else if(d>1){var f=b("getViewportDimensions")().height/2;a.forEach(function(a){if(!a.isAutoplayable())return;if(b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&!c.$VideoAutoplayControllerX28(a))return;var d=a.getDOMPosition();d=d.y+d.height/2;d=Math.abs(d-f);a.playPriority=d;(!e||!e.playPriority||a.playPriority<e.playPriority)&&(e=a)})}return e};d.$VideoAutoplayControllerX28=function(a){var b=!0;a=a.getAutoplayRules();for(var c=0;c<a.length;++c){var d=a[c].calculateAutoplayScore();b=d!==0;if(!b)break}return b};d.showAutoplayNUX=function(a){__p&&__p();var c=this.$VideoAutoplayControllerX1;if(c&&!c.isShown()){a=a.getVideoPlayerController();a=a?a.getRootNode():null;b("DOM").prependContent(a,this.$VideoAutoplayControllerX2);c.show();a=b("XVideoAutoplayNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send()}this.$VideoAutoplayControllerX14=!1};d.addVideoUnit=function(c){c&&a.prototype.addVideoUnit.call(this,c),b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&c&&this.$VideoAutoplayControllerX17.addVideoUnit(c)};d.removeVideoUnit=function(c){c&&a.prototype.removeVideoUnit.call(this,c),b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&c&&this.$VideoAutoplayControllerX17.removeVideoUnit(c)};d.$VideoAutoplayControllerX21=function(a){__p&&__p();var c=this,d=b("VideoPlayerShakaGlobalConfig").getNumber("request_bounded_animation_frame_bound",50);this.$VideoAutoplayControllerX29();if(b("VideoPlayerShakaGlobalConfig").getBool("use_ric_cycle",!1)){a=b("VideoPlayerShakaGlobalConfig").getNumber("ric_autoplay_bound",50);var e=b("VideoPlayerShakaGlobalConfig").getBool("use_native_ric",!1);e=e?window.requestIdleCallback:b("requestIdleCallback");return e(function(){c.$VideoAutoplayControllerX21(b("performanceNow")())},{timeout:a})}b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_lower_raf_cycle",!1)?b("setTimeout")(function(){b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_no_raf",!1)?c.$VideoAutoplayControllerX21(b("performanceNow")()):b("requestBoundedAnimationFrame")(function(a){c.$VideoAutoplayControllerX21(a)},{priority:1},d)},i):b("requestBoundedAnimationFrame")(function(a){c.$VideoAutoplayControllerX21(a)},{priority:1},d)};d.$VideoAutoplayControllerX29=function(){__p&&__p();var a=this.$VideoAutoplayControllerX3,c=Date.now(),d=c-this.$VideoAutoplayControllerX6,e=b("VideoPlayerShakaGlobalConfig").getNumber("autoplay_start_video_interval",200);if(b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_no_high_frequency_ops",!1)&&d<e)return;this.$VideoAutoplayControllerX4&&b("VideoPlayerExperiments").pauseAudioUnitsOffscreen&&a&&a.shouldPauseWhenScrolledOffscreen()&&!a.isVisible()&&a.pause(b("VideoPlayerReason").AUTOPLAY);if(!this.$VideoAutoplayControllerX12){this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY);return}a=this.getVideoUnits();var f=this.getPlayingVideoUnit(),g=this.$VideoAutoplayControllerX4?null:f;this.$VideoAutoplayControllerX4&&f&&f.isVisible()&&(g=this.$VideoAutoplayControllerX27([f]));f&&f!==g&&this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY);if(d>=e){this.$VideoAutoplayControllerX6=c;if(this.$VideoAutoplayControllerX5){d=this.getVisibleUnits();for(var e=0;e<a.length;++e)a[e].isMuted()&&d.indexOf(a[e])===-1&&a[e].pause(b("VideoPlayerReason").AUTOPLAY);g=this.$VideoAutoplayControllerX27(d);g&&g!==f&&(f&&this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY),this.playVideo(g,b("VideoPlayerReason").AUTOPLAY),this.$VideoAutoplayControllerX14&&this.showAutoplayNUX(g));this.getClosestVideoUnits(b("VideoPlayerExperiments").preloadVideosCount).forEach(function(a){return a.preload()});g&&b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoAutoplayControllerX30(g)}this.$VideoAutoplayControllerX5=!1}this.$VideoAutoplayControllerX4=!1};d.updateAutoplay=function(){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("use_two_frequency_update_autoplay",!1)){this.$VideoAutoplayControllerX4=!0;this.$VideoAutoplayControllerX5=!0;return}var a=this.getVideoUnits(),c;if(b("VideoPlayerExperiments").pauseOffscreenUnitsFirst){c=this.getVisibleUnits();if(b("VideoPlayerExperiments").pauseOffscreenMutedOnUpdateAutoplay)for(var d=0;d<a.length;++d)a[d].isMuted()&&c.indexOf(a[d])===-1&&a[d].pause(b("VideoPlayerReason").AUTOPLAY)}if(!this.$VideoAutoplayControllerX12){this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY);return}d=this.$VideoAutoplayControllerX3;b("VideoPlayerExperiments").pauseAudioUnitsOffscreen&&d&&d.shouldPauseWhenScrolledOffscreen()&&!d.isVisible()&&d.pause(b("VideoPlayerReason").AUTOPLAY);!b("VideoPlayerExperiments").decoupleAbortLoadingFromPause?this.getClosestVideoUnits(b("VideoPlayerPreloadExperiment").preloadVideosCount).forEach(function(a){a.preload()}):b("VideoPlayerExperiments").abortLoadingHelperDefaultPreloading&&this.$VideoAutoplayControllerX17.preloadClosestVideoUnits(b("VideoPlayerPreloadExperiment").preloadVideosCount);c=this.getVisibleUnits();d=this.$VideoAutoplayControllerX27(c);var e=this.getPlayingVideoUnit();e?d!=e&&(this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY),this.playVideo(d,b("VideoPlayerReason").AUTOPLAY),this.$VideoAutoplayControllerX14&&d&&this.showAutoplayNUX(d)):d&&(this.playVideo(d,b("VideoPlayerReason").AUTOPLAY),this.$VideoAutoplayControllerX14&&this.showAutoplayNUX(d));if(!b("VideoPlayerExperiments").pauseOffscreenUnitsFirst&&b("VideoPlayerExperiments").pauseOffscreenMutedOnUpdateAutoplay)for(var e=0;e<a.length;++e)a[e].isMuted()&&c.indexOf(a[e])===-1&&a[e].pause(b("VideoPlayerReason").AUTOPLAY);b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoAutoplayControllerX30(d);b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&this.$VideoAutoplayControllerX17.maybeAbortLoading()};d.$VideoAutoplayControllerX30=function(a){__p&&__p();var c=-1,d=this.getVideoUnits();if(a){var e=d.findIndex(function(b){return b===a});e>=0&&(c=e+1)}else{e=b("getViewportDimensions")().height/2;for(var f=0;f<d.length;f++){var g=d[f];g=g.getDOMPosition();g=g.y+g.height/2;if(g-e>0){c=f;break}}}if(c===-1)return;for(var g=0;g<d.length;g++){f=d[g];e=f.getVideoPlayerController();if(!e)continue;g===c?e.setVideoPriorityAdjustment(.1):f===a?e.setVideoPriorityAdjustment(b("VideoPlayerExperiments").offsetToBestUnitPriority):b("VideoPlayerExperiments").dePrioritizeUpfoldVideos&&g<c?e.setVideoPriorityAdjustment(-.5):e.setVideoPriorityAdjustment(0)}};return c}(b("VideoAutoplayControllerBase"));e.exports=a}),null);
__d("VideoAutoplayPlayerBase",["EventEmitter","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wasVisible=!1,c.$VideoAutoplayPlayerBase1=[],b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.isVisible=function(){throw new Error("Should be overridden")};d.getDistanceToViewport=function(){throw new Error("Should be overridden")};d.getVideoPlayerController=function(){b("FBLogger")("video").warn(["VideoAutoplayPlayerBase.getVideoPlayerController()","was called and returned null."].join(" "));return null};d.logDisplayed=function(){throw new Error("Should be overridden")};d.playWithoutUnmute=function(a){throw new Error("Should be overridden")};d.pause=function(a){throw new Error("Should be overridden")};d.isAutoplayable=function(){throw new Error("Should be overridden")};d.getDOMPosition=function(){throw new Error("Should be overridden")};d.isLooping=function(){throw new Error("Should be overridden")};d.isState=function(a){throw new Error("Should be overridden")};d.preload=function(){throw new Error("Should be overridden")};d.isMuted=function(){throw new Error("Should be overridden")};d.isPlaying=function(){throw new Error("Should be overridden")};d.shouldPauseWhenScrolledOffscreen=function(){throw new Error("Should be overridden")};d.getAutoplayRules=function(){return this.$VideoAutoplayPlayerBase1};d.registerAutoplayRule=function(a){this.$VideoAutoplayPlayerBase1.push(a)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoCover",["invariant","Bootloader","CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;e===void 0&&(e=null);this.$7=new(b("SubscriptionsHandler"))();this.$13=function(){f.$5&&b("CSS").show(f.$1)};this.$14=function(){f.$5&&b("CSS").hide(f.$1)};this.$9=function(){f.$3!=null&&f.$3.length>0?b("Bootloader").loadModules(["PhotoSnowlift"],function(a){return a.bootstrap(f.$3)},"VideoCover"):f.$8&&f.$8.clickVideo()};this.$10=function(){b("CSS").hide(f.$1)};this.$12=function(){if(f.$8){var a=f.$8.getOption("Looping","isLooping");if(f.$4||a)return;b("CSS").show(f.$1)}};this.$11=function(){f.$8&&f.$8.isState("fallback")&&f.$6&&b("CSS").show(f.$1)};a instanceof Element||g(0,4829);this.$1=a;c[0]instanceof Element||g(0,4830);this.$2=c[0];this.$3=d;e&&(this.$4=e.hiddenAfterFinish,this.$5=e.showWhileBuffering,this.$6=e.showAfterFallback);b("EventListener").listen(this.$1,"click",this.$9)}var c=a.prototype;c.disable=function(){this.$7.release(),this.$8&&this.$8.unregisterOption("VideoCover","coverElement"),this.$8=null};c.enable=function(a){var b=this;this.$8=a;a.getState()==="playing"&&this.$10();this.$7.addSubscriptions(a.addListener("stateChange",this.$11),a.addListener("beginPlayback",this.$10),a.addListener("finishPlayback",this.$12),a.addListener("buffering",this.$13),a.addListener("buffered",this.$14));a.registerOption("VideoCover","coverElement",function(){return b.$1})};c.getCurrentCover=function(){return this.$2};c.setSnowLiftURI=function(a){this.$3=a};return a}();e.exports=a}),null);
__d("VideoNodeStaledScreen",["CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var c=this;this.$3=new(b("SubscriptionsHandler"))();this.$5=function(){b("CSS").show(c.$1)};this.$4=function(){b("CSS").hide(c.$1)};this.$1=a;this.$2=null;b("EventListener").listen(this.$1,"click",this.$4)}var c=a.prototype;c.enable=function(a){this.$2=a,this.$3.addSubscriptions(this.$2.addListener("videoNodeStaled",this.$5))};c.disable=function(){this.$3.release(),this.$2=null};return a}();e.exports=a}),null);
__d("VideoPlayerStates",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({READY:"ready",PLAYING:"playing",PAUSED:"paused",LOADING:"loading",FALLBACK:"fallback",FINISHED:"finished",DESTROYED:"destroyed",REPLAYED:"replayed",UNKNOWN:"unknown"})}),null);